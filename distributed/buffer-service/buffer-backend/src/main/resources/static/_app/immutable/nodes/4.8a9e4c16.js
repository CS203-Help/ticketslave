import{S as Te,i as He,s as je,k as T,a as O,q as M,e as le,Q as Ge,l as H,h as p,c as X,m as G,r as N,n as v,R as P,F as k,b as A,O as $,T as Ee,G as re,U as B,P as Me,H as Ne,V as Pe,p as J,W as De,u as ee,X as Ae,Y as se}from"../chunks/index.ef3c8309.js";import{p as Oe}from"../chunks/parse.bee59afc.js";import{j as Xe,k as Ce}from"../chunks/singletons.4e7ce8bb.js";import{r as Le}from"../chunks/index.79a67ab2.js";const ze=(t,e={})=>{fe(e);let{colors:a=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:l=3500,force:n=.5,particleCount:o=150,particleShape:s="mix",particleSize:r=12,destroyAfterDone:u=!0,stageHeight:d=800,stageWidth:f=1600}=e;(function(_){const y=Y("style");y.dataset.neoconfetti="",y.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,y)})(),t.classList.add("fk9XWG_container"),t.style.setProperty("--stage-height",d+"px");let g,i=ce(o,a),c=ne(t,i);function m(_,y){const w=q(z()*(Ue-1)),b=s!=="rectangles"&&(s==="circles"||Be(w)),E=(S,h)=>_.style.setProperty(S,h+"");E("--x-landing-point",K(U(ue(y,90)-180),0,180,-f/2,f/2)+"px"),E("--duration-chaos",l-q(1e3*z())+"ms");const C=z()<Ie?F(z()*Ve,2):0;E("--x1",C),E("--x2",-1*C),E("--x3",C),E("--x4",F(U(K(U(ue(y,90)-180),0,180,-1,1)),4)),E("--y1",F(z()*ie,4)),E("--y2",F(z()*n*(Se()?1:-1),4)),E("--y3",ie),E("--y4",F(qe(K(U(y-180),0,180,n,-n),0),4)),E("--width",(b?r:q(4*z())+r/2)+"px"),E("--height",(b?r:q(2*z())+r)+"px");const D=w.toString(2).padStart(3,"0").split("");E("--half-rotation",D.map(S=>+S/2+"")),E("--rotation",D),E("--rotation-duration",F(z()*(Fe-oe)+oe)+"ms"),E("--border-radius",b?"50%":0)}for(const[_,y]of Object.entries(c))m(y,i[+_].degree);return Promise.resolve().then(()=>g=setTimeout(()=>u&&(t.innerHTML=""),l)),{update(_){fe(_);const y=_.particleCount??o,w=_.colors??a,b=_.stageHeight??d;if(i=ce(y,w),y===o&&JSON.stringify(a)!==JSON.stringify(w))for(const[E,{color:C}]of Object.entries(i))c[+E].style.setProperty("--bgcolor",C);y!==o&&(t.innerHTML="",c=ne(t,i)),u&&!_.destroyAfterDone&&clearTimeout(g),t.style.setProperty("--stage-height",b+"px"),a=w,l=_.duration??l,n=_.force??n,o=y,s=_.particleShape??s,r=_.particleSize??r,u=_.destroyAfterDone??u,d=b,f=_.stageWidth??f},destroy(){clearTimeout(g)}}};function ne(t,e=[]){const a=[];for(const{color:l}of e){const n=Y("div");n.className="fk9XWG_particle",n.style.setProperty("--bgcolor",l);const o=Y("div");Z(n,o),Z(t,n),a.push(n)}return a}const oe=200,Fe=800,Ie=.1,Ve=.3,ie=.5,U=Math.abs,z=Math.random,q=Math.round,qe=Math.max,Y=t=>document.createElement(t),Z=(t,e)=>t.appendChild(e),ce=(t,e)=>Array.from({length:t},(a,l)=>({color:e[l%e.length],degree:360*l/t})),F=(t,e=2)=>q((t+Number.EPSILON)*10**e)/10**e,K=(t,e,a,l,n)=>(t-e)*(n-l)/(a-e)+l,ue=(t,e)=>t+e>360?t+e-360:t+e,Se=()=>z()>.5,Ue=6,Be=t=>t!==1&&Se(),x=t=>t===void 0,I=(t,e)=>{if(!x(t)&&Number.isSafeInteger(t)&&t<0)throw new Error(e+" must be a positive integer")},fe=({particleCount:t,duration:e,colors:a,particleSize:l,force:n,stageHeight:o,stageWidth:s,particleShape:r})=>{if(I(t,"particleCount"),I(e,"duration"),I(l,"particleSize"),I(n,"force"),I(o,"stageHeight"),I(s,"stageWidth"),!x(r)&&!/^(mix|circles|rectangles)$/i.test(r))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!x(a)&&!Array.isArray(a))throw new Error("colors must be an array of strings");if(n>1)throw new Error("force must be within 0 and 1")},Re=Xe("invalidate_all");function Je(t){return Ce.apply_action(t)}function Ke(t){const e=JSON.parse(t);return e.data&&(e.data=Oe(e.data)),e}function de(t){return HTMLElement.prototype.cloneNode.call(t)}function Qe(t,e=()=>{}){const a=async({action:n,result:o,reset:s=!0,invalidateAll:r=!0})=>{o.type==="success"&&(s&&HTMLFormElement.prototype.reset.call(t),r&&await Re()),(location.origin+location.pathname===n.origin+n.pathname||o.type==="redirect"||o.type==="error")&&Je(o)};async function l(n){var m,_,y,w;if(((m=n.submitter)!=null&&m.hasAttribute("formmethod")?n.submitter.formMethod:de(t).method)!=="post")return;n.preventDefault();const s=new URL((_=n.submitter)!=null&&_.hasAttribute("formaction")?n.submitter.formAction:de(t).action),r=new FormData(t),u=(y=n.submitter)==null?void 0:y.getAttribute("name");u&&r.append(u,((w=n.submitter)==null?void 0:w.getAttribute("value"))??"");const d=new AbortController;let f=!1;const i=await e({action:s,cancel:()=>f=!0,controller:d,get data(){return r},formData:r,get form(){return t},formElement:t,submitter:n.submitter})??a;if(f)return;let c;try{const b=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:r,signal:d.signal});c=Ke(await b.text()),c.type==="error"&&(c.status=b.status)}catch(b){if((b==null?void 0:b.name)==="AbortError")return;c={type:"error",error:b}}i({action:s,get data(){return r},formData:r,get form(){return t},formElement:t,update:b=>a({action:s,result:c,reset:b==null?void 0:b.reset,invalidateAll:b==null?void 0:b.invalidateAll}),result:c})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",l),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",l)}}}const We="(prefers-reduced-motion: reduce)",Ye=()=>window.matchMedia(We).matches,Ze=Le(Ye(),t=>{{const e=l=>{t(l.matches)},a=window.matchMedia(We);return a.addEventListener("change",e),()=>{a.removeEventListener("change",e)}}});const{document:Q,window:xe}=Pe;function he(t,e,a){const l=t.slice();return l[9]=e[a],l}function _e(t,e,a){const l=t.slice();return l[12]=e[a],l}function me(t,e,a){const l=t.slice();l[15]=e[a],l[9]=a;const n=l[9]===l[3];return l[16]=n,l}function pe(t,e,a){var f,g;const l=t.slice();l[15]=e[a],l[25]=a;const n=(f=l[0].answers[l[9]])==null?void 0:f[l[25]];l[18]=n;const o=((g=l[0].guesses[l[9]])==null?void 0:g[l[25]])??"";l[19]=o;const s=l[16]&&l[25]===l[0].guesses[l[9]].length;l[20]=s;const r=l[18]==="x";l[21]=r;const u=l[18]==="c";l[22]=u;const d=l[18]==="_";return l[23]=d,l}function $e(t){let e;return{c(){e=M("empty")},l(a){e=N(a,"empty")},m(a,l){A(a,e,l)},d(a){a&&p(e)}}}function et(t){let e;return{c(){e=M("(absent)")},l(a){e=N(a,"(absent)")},m(a,l){A(a,e,l)},d(a){a&&p(e)}}}function tt(t){let e;return{c(){e=M("(present)")},l(a){e=N(a,"(present)")},m(a,l){A(a,e,l)},d(a){a&&p(e)}}}function at(t){let e;return{c(){e=M("(correct)")},l(a){e=N(a,"(correct)")},m(a,l){A(a,e,l)},d(a){a&&p(e)}}}function be(t){let e,a=t[19]+"",l,n,o,s,r,u,d;function f(c,m){return c[21]?at:c[22]?tt:c[23]?et:$e}let g=f(t),i=g(t);return{c(){e=T("div"),l=M(a),n=O(),o=T("span"),i.c(),s=O(),r=T("input"),this.h()},l(c){e=H(c,"DIV",{class:!0});var m=G(e);l=N(m,a),n=X(m),o=H(m,"SPAN",{class:!0});var _=G(o);i.l(_),_.forEach(p),s=X(m),r=H(m,"INPUT",{name:!0,type:!0}),m.forEach(p),this.h()},h(){v(o,"class","visually-hidden"),v(r,"name","guess"),r.disabled=u=!t[16],v(r,"type","hidden"),r.value=d=t[19],v(e,"class","letter svelte-1pg2j5l"),P(e,"exact",t[21]),P(e,"close",t[22]),P(e,"missing",t[23]),P(e,"selected",t[20])},m(c,m){A(c,e,m),k(e,l),k(e,n),k(e,o),i.m(o,null),k(e,s),k(e,r)},p(c,m){m&1&&a!==(a=c[19]+"")&&ee(l,a),g!==(g=f(c))&&(i.d(1),i=g(c),i&&(i.c(),i.m(o,null))),m&8&&u!==(u=!c[16])&&(r.disabled=u),m&1&&d!==(d=c[19])&&(r.value=d),m&1&&P(e,"exact",c[21]),m&1&&P(e,"close",c[22]),m&1&&P(e,"missing",c[23]),m&9&&P(e,"selected",c[20])},d(c){c&&p(e),i.d()}}}function ge(t){let e,a,l=t[9]+1+"",n,o,s,r,u=Array(5),d=[];for(let f=0;f<u.length;f+=1)d[f]=be(pe(t,u,f));return{c(){e=T("h2"),a=M("Row "),n=M(l),o=O(),s=T("div");for(let f=0;f<d.length;f+=1)d[f].c();r=O(),this.h()},l(f){e=H(f,"H2",{class:!0});var g=G(e);a=N(g,"Row "),n=N(g,l),g.forEach(p),o=X(f),s=H(f,"DIV",{class:!0});var i=G(s);for(let c=0;c<d.length;c+=1)d[c].l(i);r=X(i),i.forEach(p),this.h()},h(){v(e,"class","visually-hidden"),v(s,"class","row svelte-1pg2j5l"),P(s,"current",t[16])},m(f,g){A(f,e,g),k(e,a),k(e,n),A(f,o,g),A(f,s,g);for(let i=0;i<d.length;i+=1)d[i]&&d[i].m(s,null);k(s,r)},p(f,g){if(g&9){u=Array(5);let i;for(i=0;i<u.length;i+=1){const c=pe(f,u,i);d[i]?d[i].p(c,g):(d[i]=be(c),d[i].c(),d[i].m(s,r))}for(;i<d.length;i+=1)d[i].d(1);d.length=u.length}g&8&&P(s,"current",f[16])},d(f){f&&p(e),f&&p(o),f&&p(s),B(d,f)}}}function lt(t){let e,a,l,n,o,s,r,u,d,f,g=["qwertyuiop","asdfghjkl","zxcvbnm"],i=[];for(let c=0;c<3;c+=1)i[c]=ye(he(t,g,c));return{c(){e=T("div"),a=T("button"),l=M("enter"),o=O(),s=T("button"),r=M("back"),u=O();for(let c=0;c<3;c+=1)i[c].c();this.h()},l(c){e=H(c,"DIV",{class:!0});var m=G(e);a=H(m,"BUTTON",{"data-key":!0,class:!0});var _=G(a);l=N(_,"enter"),_.forEach(p),o=X(m),s=H(m,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0});var y=G(s);r=N(y,"back"),y.forEach(p),u=X(m);for(let w=0;w<3;w+=1)i[w].l(m);m.forEach(p),this.h()},h(){v(a,"data-key","enter"),a.disabled=n=!t[6],v(a,"class","svelte-1pg2j5l"),P(a,"selected",t[6]),v(s,"data-key","backspace"),v(s,"formaction","?/update"),v(s,"name","key"),s.value="backspace",v(s,"class","svelte-1pg2j5l"),v(e,"class","keyboard svelte-1pg2j5l")},m(c,m){A(c,e,m),k(e,a),k(a,l),k(e,o),k(e,s),k(s,r),k(e,u);for(let _=0;_<3;_+=1)i[_]&&i[_].m(e,null);d||(f=$(s,"click",Ae(t[8])),d=!0)},p(c,m){if(m&64&&n!==(n=!c[6])&&(a.disabled=n),m&64&&P(a,"selected",c[6]),m&301){g=["qwertyuiop","asdfghjkl","zxcvbnm"];let _;for(_=0;_<3;_+=1){const y=he(c,g,_);i[_]?i[_].p(y,m):(i[_]=ye(y),i[_].c(),i[_].m(e,null))}for(;_<3;_+=1)i[_].d(1)}},d(c){c&&p(e),B(i,c),d=!1,f()}}}function rt(t){let e,a,l=t[4]?"you won :)":"game over :(",n,o,s=!t[4]&&t[0].answer&&ke(t);return{c(){s&&s.c(),e=O(),a=T("button"),n=M(l),o=M(" play again?"),this.h()},l(r){s&&s.l(r),e=X(r),a=H(r,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var u=G(a);n=N(u,l),o=N(u," play again?"),u.forEach(p),this.h()},h(){v(a,"data-key","enter"),v(a,"class","restart selected svelte-1pg2j5l"),v(a,"formaction","?/restart")},m(r,u){s&&s.m(r,u),A(r,e,u),A(r,a,u),k(a,n),k(a,o)},p(r,u){!r[4]&&r[0].answer?s?s.p(r,u):(s=ke(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),u&16&&l!==(l=r[4]?"you won :)":"game over :(")&&ee(n,l)},d(r){s&&s.d(r),r&&p(e),r&&p(a)}}}function ve(t){let e,a,l,n,o,s,r;return{c(){e=T("button"),a=M(t[12]),this.h()},l(u){e=H(u,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var d=G(e);a=N(d,t[12]),d.forEach(p),this.h()},h(){v(e,"data-key",t[12]),v(e,"class",l=se(t[2][t[12]])+" svelte-1pg2j5l"),e.disabled=n=t[0].guesses[t[3]].length===5,v(e,"formaction","?/update"),v(e,"name","key"),e.value=t[12],v(e,"aria-label",o=t[12]+" "+(t[5][t[12]]||""))},m(u,d){A(u,e,d),k(e,a),s||(r=$(e,"click",Ae(t[8])),s=!0)},p(u,d){d&4&&l!==(l=se(u[2][u[12]])+" svelte-1pg2j5l")&&v(e,"class",l),d&9&&n!==(n=u[0].guesses[u[3]].length===5)&&(e.disabled=n),d&32&&o!==(o=u[12]+" "+(u[5][u[12]]||""))&&v(e,"aria-label",o)},d(u){u&&p(e),s=!1,r()}}}function ye(t){let e,a,l=t[9],n=[];for(let o=0;o<l.length;o+=1)n[o]=ve(_e(t,l,o));return{c(){e=T("div");for(let o=0;o<n.length;o+=1)n[o].c();a=O(),this.h()},l(o){e=H(o,"DIV",{class:!0});var s=G(e);for(let r=0;r<n.length;r+=1)n[r].l(s);a=X(s),s.forEach(p),this.h()},h(){v(e,"class","row svelte-1pg2j5l")},m(o,s){A(o,e,s);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);k(e,a)},p(o,s){if(s&301){l=o[9];let r;for(r=0;r<l.length;r+=1){const u=_e(o,l,r);n[r]?n[r].p(u,s):(n[r]=ve(u),n[r].c(),n[r].m(e,a))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},d(o){o&&p(e),B(n,o)}}}function ke(t){let e,a,l=t[0].answer+"",n,o;return{c(){e=T("p"),a=M('the answer was "'),n=M(l),o=M('"')},l(s){e=H(s,"P",{});var r=G(e);a=N(r,'the answer was "'),n=N(r,l),o=N(r,'"'),r.forEach(p)},m(s,r){A(s,e,r),k(e,a),k(e,n),k(e,o)},p(s,r){r&1&&l!==(l=s[0].answer+"")&&ee(n,l)},d(s){s&&p(e)}}}function we(t){let e,a,l,n;return{c(){e=T("div"),this.h()},l(o){e=H(o,"DIV",{style:!0}),G(e).forEach(p),this.h()},h(){J(e,"position","absolute"),J(e,"left","50%"),J(e,"top","30%")},m(o,s){A(o,e,s),l||(n=Ee(a=ze.call(null,e,{particleCount:t[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),l=!0)},p(o,s){a&&De(a.update)&&s&128&&a.update.call(null,{particleCount:o[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(o){o&&p(e),l=!1,n()}}}function st(t){let e,a,l,n,o,s,r,u,d,f,g,i,c,m,_,y,w=Array(6),b=[];for(let h=0;h<w.length;h+=1)b[h]=ge(me(t,w,h));function E(h,j){return h[4]||h[0].answers.length>=6?rt:lt}let C=E(t),D=C(t),S=t[4]&&we(t);return{c(){e=T("meta"),a=O(),l=T("h1"),n=M("Sverdle"),o=O(),s=T("form"),r=T("a"),u=M("How to play"),d=O(),f=T("div");for(let h=0;h<b.length;h+=1)b[h].c();g=O(),i=T("div"),D.c(),c=O(),S&&S.c(),m=le(),this.h()},l(h){const j=Ge("svelte-18lvto8",Q.head);e=H(j,"META",{name:!0,content:!0}),j.forEach(p),a=X(h),l=H(h,"H1",{class:!0});var L=G(l);n=N(L,"Sverdle"),L.forEach(p),o=X(h),s=H(h,"FORM",{method:!0,action:!0,class:!0});var W=G(s);r=H(W,"A",{class:!0,href:!0});var V=G(r);u=N(V,"How to play"),V.forEach(p),d=X(W),f=H(W,"DIV",{class:!0});var te=G(f);for(let R=0;R<b.length;R+=1)b[R].l(te);te.forEach(p),g=X(W),i=H(W,"DIV",{class:!0});var ae=G(i);D.l(ae),ae.forEach(p),W.forEach(p),c=X(h),S&&S.l(h),m=le(),this.h()},h(){var h;Q.title="Sverdle",v(e,"name","description"),v(e,"content","A Wordle clone written in SvelteKit"),v(l,"class","visually-hidden"),v(r,"class","how-to-play svelte-1pg2j5l"),v(r,"href","/sverdle/how-to-play"),v(f,"class","grid svelte-1pg2j5l"),P(f,"playing",!t[4]),P(f,"bad-guess",(h=t[1])==null?void 0:h.badGuess),v(i,"class","controls svelte-1pg2j5l"),v(s,"method","POST"),v(s,"action","?/enter"),v(s,"class","svelte-1pg2j5l")},m(h,j){k(Q.head,e),A(h,a,j),A(h,l,j),k(l,n),A(h,o,j),A(h,s,j),k(s,r),k(r,u),k(s,d),k(s,f);for(let L=0;L<b.length;L+=1)b[L]&&b[L].m(f,null);k(s,g),k(s,i),D.m(i,null),A(h,c,j),S&&S.m(h,j),A(h,m,j),_||(y=[$(xe,"keydown",nt),Ee(Qe.call(null,s,ot))],_=!0)},p(h,[j]){var L;if(j&9){w=Array(6);let W;for(W=0;W<w.length;W+=1){const V=me(h,w,W);b[W]?b[W].p(V,j):(b[W]=ge(V),b[W].c(),b[W].m(f,null))}for(;W<b.length;W+=1)b[W].d(1);b.length=w.length}j&16&&P(f,"playing",!h[4]),j&2&&P(f,"bad-guess",(L=h[1])==null?void 0:L.badGuess),C===(C=E(h))&&D?D.p(h,j):(D.d(1),D=C(h),D&&(D.c(),D.m(i,null))),h[4]?S?S.p(h,j):(S=we(h),S.c(),S.m(m.parentNode,m)):S&&(S.d(1),S=null)},i:re,o:re,d(h){p(e),h&&p(a),h&&p(l),h&&p(o),h&&p(s),B(b,h),D.d(),h&&p(c),S&&S.d(h),h&&p(m),_=!1,Me(y)}}}function nt(t){var e;t.metaKey||(e=document.querySelector(`[data-key="${t.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const ot=()=>({update:t})=>{t({reset:!1})};function it(t,e,a){let l,n,o,s;Ne(t,Ze,i=>a(7,s=i));let{data:r}=e,{form:u}=e,d,f;function g(i){const c=r.guesses[n],m=i.target.getAttribute("data-key");m==="backspace"?(a(0,r.guesses[n]=c.slice(0,-1),r),u!=null&&u.badGuess&&a(1,u.badGuess=!1,u)):c.length<5&&a(0,r.guesses[n]+=m,r)}return t.$$set=i=>{"data"in i&&a(0,r=i.data),"form"in i&&a(1,u=i.form)},t.$$.update=()=>{var i;t.$$.dirty&1&&a(4,l=r.answers.at(-1)==="xxxxx"),t.$$.dirty&17&&a(3,n=l?-1:r.answers.length),t.$$.dirty&9&&a(6,o=((i=r.guesses[n])==null?void 0:i.length)===5),t.$$.dirty&5&&(a(2,d={}),a(5,f={}),r.answers.forEach((c,m)=>{const _=r.guesses[m];for(let y=0;y<5;y+=1){const w=_[y];c[y]==="x"?(a(2,d[w]="exact",d),a(5,f[w]="correct",f)):d[w]||(a(2,d[w]=c[y]==="c"?"close":"missing",d),a(5,f[w]=c[y]==="c"?"present":"absent",f))}}))},[r,u,d,n,l,f,o,s,g]}class ht extends Te{constructor(e){super(),He(this,e,it,st,je,{data:0,form:1})}}export{ht as component};
